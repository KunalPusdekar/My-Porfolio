"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/blobity";
exports.ids = ["vendor-chunks/blobity"];
exports.modules = {

/***/ "(ssr)/./node_modules/blobity/lib/Blobity.js":
/*!*********************************************!*\
  !*** ./node_modules/blobity/lib/Blobity.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar throttle_1 = __importDefault(__webpack_require__(/*! lodash/throttle */ \"(ssr)/./node_modules/lodash/throttle.js\"));\nvar kinet_1 = __importDefault(__webpack_require__(/*! kinet */ \"(ssr)/./node_modules/kinet/lib/index.js\"));\nvar helpers_1 = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/blobity/lib/helpers.js\");\nvar Magnetic_1 = __importDefault(__webpack_require__(/*! ./Magnetic */ \"(ssr)/./node_modules/blobity/lib/Magnetic.js\"));\nvar Blobity = /** @class */ (function () {\n    function Blobity(options) {\n        var _this = this;\n        this.options = {\n            color: 'rgb(180, 180, 180)',\n            opacity: 1,\n            licenseKey: null,\n            size: 40,\n            focusableElements: '[data-blobity], a:not([data-no-blobity]), button:not([data-no-blobity]), [data-blobity-tooltip]',\n            focusableElementsOffsetX: 0,\n            focusableElementsOffsetY: 0,\n            zIndex: -1,\n            invert: false,\n            dotColor: null,\n            dotSize: 8,\n            magnetic: true,\n            mode: 'normal',\n            radius: 4,\n            font: 'sans-serif',\n            fontWeight: 400,\n            fontSize: 40,\n            fontColor: '#000000',\n            tooltipPadding: 12,\n            kineticMorphing: true,\n        };\n        this.initialized = false;\n        this.color = { r: 0, g: 0, b: 0 };\n        this.fontColor = { r: 0, g: 0, b: 0 };\n        this.stickedToElement = null;\n        this.sticketToElementTooltip = null;\n        this.disablingStickedToElementTimeout = null;\n        this.isActive = true;\n        this.destroyed = false;\n        this.currentMagnetic = null;\n        this.kinetPresets = {\n            normal: {\n                acceleration: 0.1,\n                friction: 0.35,\n            },\n            bouncy: {\n                acceleration: 0.1,\n                friction: 0.28,\n            },\n            slow: {\n                acceleration: 0.06,\n                friction: 0.35,\n            },\n        };\n        this.lastKnownCoordinates = { x: 0, y: 0 };\n        this.currentOffsetX = 0;\n        this.currentOffsetY = 0;\n        this.manuallySetFocusedElement = null;\n        this.manuallySetTooltipText = null;\n        this.disableTimeStamp = new Date().getTime();\n        this.reduceMotionSetting = false;\n        this.kinetDefaultMethod = 'animate';\n        this.updateOptions = function (newOptions) {\n            _this.options = __assign(__assign({}, _this.options), newOptions);\n            if (Array.isArray(_this.options.color)) {\n                _this.color = _this.options.color.map(function (color) { return helpers_1.convertColor(color); });\n            }\n            else {\n                _this.color = helpers_1.convertColor(_this.options.color);\n            }\n            _this.fontColor = helpers_1.convertColor(_this.options.fontColor);\n            if (_this.options.invert) {\n                _this.color = helpers_1.convertColor('rgb(255, 255, 255)');\n            }\n            if (_this.options.dotColor) {\n                if (_this.globalStyles) {\n                    document.head.removeChild(_this.globalStyles);\n                    _this.globalStyles = undefined;\n                }\n                if (!_this.globalStyles) {\n                    var dot = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\" + _this.options.dotSize + \"\\\" height=\\\"\" + _this.options.dotSize + \"\\\"\\n                viewBox=\\\"0 0 8 8\\\"><circle cx=\\\"4\\\" cy=\\\"4\\\" r=\\\"4\\\" fill-rule=\\\"evenodd\\\" fill=\\\"\" + _this.options.dotColor + \"\\\"/></svg>\";\n                    _this.globalStyles = document.createElement('style');\n                    _this.globalStyles.setAttribute('data-blobity-global-styles', '');\n                    _this.globalStyles.appendChild(document.createTextNode('* {cursor: inherit}'));\n                    _this.globalStyles.appendChild(document.createTextNode(\"html { cursor: url(data:image/svg+xml;base64,\" + btoa(dot) + \") \" + _this.options.dotSize / 2 + \" \" + _this.options.dotSize / 2 + \", auto;}\"));\n                    document.head.appendChild(_this.globalStyles);\n                }\n            }\n            else {\n                if (_this.globalStyles) {\n                    document.head.removeChild(_this.globalStyles);\n                }\n                _this.globalStyles = undefined;\n            }\n            _this.canvas.style.cssText = \"\\n            position: fixed;\\n            z-index: -1;\\n            top: 0;\\n            left: 0;\\n            pointer-events: none;\\n            opacity: 1;\\n            will-change: transform;\\n            overflow: visible;\\n            opacity: \" + _this.options.opacity + \"; \\n            z-index: \" + (_this.options.invert ? 2147483647 : _this.options.zIndex) + \"; \\n            \" + (_this.options.invert && 'mix-blend-mode: difference') + \";\\n        \";\n            _this.currentOffsetX = _this.options.focusableElementsOffsetX;\n            _this.currentOffsetY = _this.options.focusableElementsOffsetY;\n            _this.resize();\n            if (_this.kinetInstance) {\n                Object.entries(_this.kinetInstance._instances)\n                    .filter(function (_a) {\n                    var _b = __read(_a, 1), name = _b[0];\n                    return name !== 'scale';\n                })\n                    .forEach(function (_a) {\n                    var _b = __read(_a, 2), instance = _b[1];\n                    instance._friction =\n                        1 - _this.kinetPresets[_this.options.mode].friction;\n                    instance._acceleration =\n                        _this.kinetPresets[_this.options.mode].acceleration;\n                });\n                if (!_this.stickedToElement && !_this.sticketToElementTooltip) {\n                    if (newOptions.radius !== undefined) {\n                        _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.radius);\n                    }\n                    _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('x', _this.lastKnownCoordinates.x - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('y', _this.lastKnownCoordinates.y - _this.options.size / 2);\n                }\n            }\n        };\n        this.destroy = function () {\n            if (_this.destroyed) {\n                return;\n            }\n            window.removeEventListener('resize', _this.resize);\n            window.removeEventListener('mousemove', _this.throttledMouseMove);\n            document.removeEventListener('mouseenter', _this.windowMouseEnter);\n            document.removeEventListener('mouseleave', _this.windowMouseLeave);\n            document.removeEventListener('mouseover', _this.focusableElementMouseEnter);\n            document.removeEventListener('mouseout', _this.focusableElementMouseLeave);\n            document.removeEventListener('touchstart', _this.disable);\n            document.removeEventListener('touchend', _this.disable);\n            document.removeEventListener('mousemove', _this.enable);\n            _this.prefersReducedMotionMediaQuery.removeEventListener('change', _this.updatePrefersReducedMotionSetting);\n            document.body.removeChild(_this.canvas);\n            document.documentElement.style.cursor = '';\n            if (_this.globalStyles) {\n                document.head.removeChild(_this.globalStyles);\n            }\n            _this.destroyed = true;\n        };\n        this.disable = function () {\n            // sometimes we can have false positive enable called right after\n            // so we save the time here so we can prevent it in enable method\n            _this.disableTimeStamp = new Date().getTime();\n            _this.isActive = false;\n            _this.clear();\n        };\n        this.enable = function () {\n            var disableAge = new Date().getTime() - _this.disableTimeStamp;\n            if (disableAge > 16) {\n                // let's take one cca frame as a limit\n                _this.isActive = true;\n            }\n        };\n        this.updatePrefersReducedMotionSetting = function () {\n            _this.reduceMotionSetting = _this.prefersReducedMotionMediaQuery.matches;\n            _this.kinetDefaultMethod = _this.reduceMotionSetting ? 'set' : 'animate';\n        };\n        this.focusElement = function (element) {\n            _this.manuallySetTooltipText = null;\n            _this.manuallySetFocusedElement = element;\n            _this.highlightElement(element);\n        };\n        this.showTooltip = function (text) {\n            _this.manuallySetFocusedElement = null;\n            _this.manuallySetTooltipText = text;\n            _this.displayTooltip(text, _this.lastKnownCoordinates.x, _this.lastKnownCoordinates.y);\n        };\n        this.reset = function () {\n            _this.manuallySetFocusedElement = null;\n            _this.manuallySetTooltipText = null;\n            if (_this.activeTooltip) {\n                _this.displayTooltip(_this.activeTooltip, _this.lastKnownCoordinates.x, _this.lastKnownCoordinates.y);\n                return;\n            }\n            if (_this.activeFocusedElement) {\n                _this.highlightElement(_this.activeFocusedElement);\n                return;\n            }\n            _this.resetMorph(_this.lastKnownCoordinates.x - _this.options.size / 2, _this.lastKnownCoordinates.y - _this.options.size / 2);\n        };\n        this.focusableElementMouseEnter = function (event) {\n            if (_this.isActive && event.target) {\n                var element_1 = event.target.closest(_this.options.focusableElements);\n                if (element_1) {\n                    _this.stickedToElement = element_1;\n                    var tooltip = element_1.getAttribute('data-blobity-tooltip');\n                    if (element_1 && tooltip != undefined) {\n                        _this.sticketToElementTooltip = tooltip;\n                    }\n                    _this.currentOffsetX = element_1.getAttribute('data-blobity-offset-x')\n                        ? parseInt(String(element_1.getAttribute('data-blobity-offset-x')))\n                        : _this.options.focusableElementsOffsetX;\n                    _this.currentOffsetY = element_1.getAttribute('data-blobity-offset-y')\n                        ? parseInt(String(element_1.getAttribute('data-blobity-offset-y')))\n                        : _this.options.focusableElementsOffsetY;\n                    _this.stickedToElementMutationObserver.observe(document.body, {\n                        childList: true,\n                        subtree: true,\n                    });\n                    var magnetic = element_1.getAttribute('data-blobity-magnetic');\n                    if (!_this.reduceMotionSetting) {\n                        if (magnetic === 'true' ||\n                            (_this.options.magnetic && magnetic !== 'false')) {\n                            _this.currentMagnetic = new Magnetic_1.default(element_1);\n                            _this.currentMagnetic.onTick = function () {\n                                if (!_this.activeTooltip &&\n                                    _this.activeFocusedElement === element_1) {\n                                    var _a = element_1.getBoundingClientRect(), width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n                                    var radius = element_1.getAttribute('data-blobity-radius');\n                                    _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n                                    _this.morph({\n                                        width: width + _this.currentOffsetX * 2,\n                                        height: height + _this.currentOffsetY * 2,\n                                        x: x - _this.currentOffsetX,\n                                        y: y - _this.currentOffsetY,\n                                    }, radius != undefined\n                                        ? parseInt(radius)\n                                        : _this.options.radius);\n                                }\n                            };\n                        }\n                    }\n                }\n            }\n        };\n        this.focusableElementMouseLeave = function (event) {\n            if (event.target) {\n                var element = event.target.closest(_this.options.focusableElements);\n                if (element) {\n                    _this.resetStickedToElement();\n                    _this.resetStickedToElementMutationObserver();\n                    _this.currentOffsetX = _this.options.focusableElementsOffsetX;\n                    _this.currentOffsetY = _this.options.focusableElementsOffsetY;\n                    _this.resetMagnetic();\n                    _this.resetMorph(event.clientX, event.clientY);\n                }\n            }\n        };\n        this.mouseDown = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('scale', 97);\n        };\n        this.mouseUp = function () {\n            _this.bounce();\n        };\n        this.windowMouseEnter = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 1);\n        };\n        this.windowMouseLeave = function () {\n            _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 0);\n        };\n        this.highlightElement = function (element) {\n            var _a = element.getBoundingClientRect(), width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n            var radius = element.getAttribute('data-blobity-radius');\n            _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n            _this.morph({\n                width: width + _this.currentOffsetX * 2,\n                height: height + _this.currentOffsetY * 2,\n                x: x - _this.currentOffsetX,\n                y: y - _this.currentOffsetY,\n            }, radius != undefined ? parseInt(radius) : _this.options.radius);\n        };\n        this.displayTooltip = function (text, x, y) {\n            _this.ctx.font = _this.options.fontWeight + \" \" + _this.options.fontSize + \"px \" + _this.options.font;\n            _this.ctx.textBaseline = 'bottom';\n            _this.ctx.textAlign = 'left';\n            var _a = _this.ctx.measureText(text), actualBoundingBoxAscent = _a.actualBoundingBoxAscent, width = _a.width;\n            var padding = _this.options.tooltipPadding * 2;\n            _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 100);\n            _this.morph({\n                x: x + 6,\n                y: y + 6,\n                width: width + padding,\n                height: actualBoundingBoxAscent + padding,\n            }, 4);\n        };\n        this.mouseMove = function (event) {\n            if (_this.initialized) {\n                _this.lastKnownCoordinates = {\n                    x: event.clientX,\n                    y: event.clientY,\n                };\n                if (_this.activeTooltip) {\n                    _this.displayTooltip(_this.activeTooltip, event.clientX, event.clientY);\n                }\n                else if (_this.activeFocusedElement) {\n                    _this.highlightElement(_this.activeFocusedElement);\n                }\n                else {\n                    _this.kinetInstance[_this.kinetDefaultMethod]('textOpacity', 0);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('x', event.clientX - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('y', event.clientY - _this.options.size / 2);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                    _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.size / 2);\n                }\n            }\n            else {\n                _this.initialized = true;\n                _this.kinetInstance.set('x', event.clientX - _this.options.size / 2);\n                _this.kinetInstance.set('y', event.clientY - _this.options.size / 2);\n                _this.kinetInstance[_this.kinetDefaultMethod]('opacity', 1);\n            }\n        };\n        this.resetMorph = function (x, y) {\n            _this.disablingStickedToElementTimeout = setTimeout(function () {\n                _this.kinetInstance[_this.kinetDefaultMethod]('width', _this.options.size);\n                _this.kinetInstance[_this.kinetDefaultMethod]('height', _this.options.size);\n                _this.kinetInstance[_this.kinetDefaultMethod]('radius', _this.options.size / 2);\n                _this.kinetInstance[_this.kinetDefaultMethod]('x', x);\n                _this.kinetInstance[_this.kinetDefaultMethod]('y', y);\n            });\n        };\n        this.clear = function () {\n            _this.ctx.resetTransform();\n            _this.ctx.rotate(0);\n            _this.ctx.clearRect(-20, -20, window.innerWidth * window.devicePixelRatio + 20, window.innerHeight * window.devicePixelRatio + 20);\n        };\n        this.resize = function () {\n            _this.ctx.canvas.style.width = window.innerWidth + \"px\";\n            _this.ctx.canvas.style.height = window.innerHeight + \"px\";\n            _this.ctx.canvas.width = window.innerWidth * window.devicePixelRatio;\n            _this.ctx.canvas.height = window.innerHeight * window.devicePixelRatio;\n            if (window.devicePixelRatio > 1) {\n                _this.ctx.imageSmoothingEnabled = false;\n            }\n        };\n        this.resetStickedToElement = function () {\n            _this.stickedToElement = null;\n            _this.sticketToElementTooltip = null;\n        };\n        this.resetStickedToElementMutationObserver = function () {\n            _this.stickedToElementMutationObserver.disconnect();\n        };\n        this.resetMagnetic = function () {\n            if (_this.currentMagnetic) {\n                _this.currentMagnetic.destroy();\n                _this.currentMagnetic.onTick = null;\n                _this.currentMagnetic = null;\n            }\n        };\n        this.canvas = document.createElement('canvas');\n        document.body.appendChild(this.canvas);\n        this.ctx = this.canvas.getContext('2d');\n        this.updateOptions(__assign({}, options));\n        if (!this.options.licenseKey) {\n            console.warn('Valid license number for Blobity is required. You can get one at https://blobity.gmrchk.com.');\n        }\n        this.kinetInstance = new kinet_1.default({\n            names: [\n                'x',\n                'y',\n                'opacity',\n                'textOpacity',\n                'width',\n                'height',\n                'radius',\n                'scale',\n            ],\n            acceleration: this.kinetPresets[this.options.mode].acceleration,\n            friction: this.kinetPresets[this.options.mode].friction,\n        });\n        this.kinetInstance._instances.scale._acceleration = 0.06;\n        this.kinetInstance._instances.scale._friction = 1 - 0.1;\n        this.kinetInstance.set('x', window.innerWidth / 2);\n        this.kinetInstance.set('y', window.innerHeight / 2);\n        this.kinetInstance.set('width', this.options.size);\n        this.kinetInstance.set('height', this.options.size);\n        this.kinetInstance.set('opacity', 0);\n        this.kinetInstance.set('textOpacity', 0);\n        this.kinetInstance.set('radius', this.options.size / 2);\n        this.kinetInstance.set('scale', 100);\n        this.kinetInstance.on('tick', function (instances) {\n            _this.render(instances.x.current, instances.y.current, instances.width.current, instances.height.current, instances.radius.current, instances.x.velocity, instances.y.velocity, instances.opacity.current, instances.scale.current, instances.textOpacity.current);\n        });\n        this.throttledMouseMove = throttle_1.default(this.mouseMove);\n        window.addEventListener('resize', this.resize, { passive: true });\n        this.resize();\n        window.addEventListener('mousemove', this.throttledMouseMove, {\n            passive: true,\n        });\n        document.addEventListener('mouseenter', this.windowMouseEnter);\n        document.addEventListener('mouseleave', this.windowMouseLeave);\n        document.addEventListener('mouseover', this.focusableElementMouseEnter);\n        document.addEventListener('mouseout', this.focusableElementMouseLeave);\n        document.addEventListener('mousedown', this.mouseDown);\n        document.addEventListener('mouseup', this.mouseUp);\n        document.addEventListener('touchstart', this.disable);\n        document.addEventListener('touchend', this.disable);\n        document.addEventListener('mousemove', this.enable, {\n            passive: true,\n        });\n        this.prefersReducedMotionMediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n        this.prefersReducedMotionMediaQuery.addEventListener('change', this.updatePrefersReducedMotionSetting);\n        this.updatePrefersReducedMotionSetting();\n        this.stickedToElementMutationObserver = new MutationObserver(function (mutations) {\n            var e_1, _a, e_2, _b;\n            try {\n                for (var mutations_1 = __values(mutations), mutations_1_1 = mutations_1.next(); !mutations_1_1.done; mutations_1_1 = mutations_1.next()) {\n                    var mutation = mutations_1_1.value;\n                    try {\n                        for (var _c = (e_2 = void 0, __values(mutation.removedNodes)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                            var el = _d.value;\n                            if (el === _this.stickedToElement || el.contains(_this.stickedToElement)) {\n                                _this.resetStickedToElement();\n                                _this.resetStickedToElementMutationObserver();\n                                _this.resetMagnetic();\n                                _this.reset();\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (mutations_1_1 && !mutations_1_1.done && (_a = mutations_1.return)) _a.call(mutations_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        });\n    }\n    Blobity.prototype.bounce = function () {\n        if (this.reduceMotionSetting) {\n            this.kinetInstance.set('scale', 100);\n        }\n        else {\n            this.kinetInstance.set('scale', 97);\n            this.kinetInstance._instances.scale.velocity = 3;\n            this.kinetInstance.animate('scale', 100);\n        }\n    };\n    Object.defineProperty(Blobity.prototype, \"activeTooltip\", {\n        get: function () {\n            return this.manuallySetTooltipText || this.sticketToElementTooltip;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Blobity.prototype, \"activeFocusedElement\", {\n        get: function () {\n            return this.manuallySetFocusedElement || this.stickedToElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Blobity.prototype.morph = function (_a, radius) {\n        var width = _a.width, height = _a.height, x = _a.x, y = _a.y;\n        if (this.disablingStickedToElementTimeout) {\n            clearTimeout(this.disablingStickedToElementTimeout);\n        }\n        this.kinetInstance[this.kinetDefaultMethod]('radius', radius);\n        this.kinetInstance[this.kinetDefaultMethod]('width', width);\n        this.kinetInstance[this.kinetDefaultMethod]('height', height);\n        this.kinetInstance[this.kinetDefaultMethod]('x', x);\n        this.kinetInstance[this.kinetDefaultMethod]('y', y);\n    };\n    Blobity.prototype.render = function (x, y, width, height, radius, velocityX, velocityY, opacity, scale, textOpacity) {\n        this.clear();\n        var maxDelta = this.activeFocusedElement\n            ? 0\n            : (this.options.size / 8) * 7;\n        x = x * window.devicePixelRatio;\n        y = y * window.devicePixelRatio;\n        width =\n            (this.activeTooltip ? width : Math.max(width, maxDelta)) *\n                window.devicePixelRatio;\n        height =\n            (this.activeTooltip ? height : Math.max(height, maxDelta)) *\n                window.devicePixelRatio;\n        radius = radius * window.devicePixelRatio;\n        velocityX = velocityX * window.devicePixelRatio;\n        velocityY = velocityY * window.devicePixelRatio;\n        if (this.isActive) {\n            var ctx = this.ctx;\n            ctx.globalAlpha = opacity;\n            ctx.setTransform(scale / 100, 0, 0, scale / 100, x, y);\n            ctx.translate(width, height);\n            ctx.scale(scale / 100, scale / 100);\n            ctx.translate(-width, -height);\n            var activateBlur = this.options.kineticMorphing &&\n                Math.abs(width - this.options.size * window.devicePixelRatio) <\n                    2 &&\n                Math.abs(height - this.options.size * window.devicePixelRatio) <\n                    2 &&\n                Math.abs(radius - (this.options.size * window.devicePixelRatio) / 2) < 2;\n            if (activateBlur) {\n                var angle = (Math.atan2(velocityY, velocityX) * 180) / Math.PI + 180;\n                ctx.translate(radius, radius);\n                ctx.rotate((angle * Math.PI) / 180);\n                ctx.translate(-radius, -radius);\n            }\n            var cumulativeVelocity = activateBlur\n                ? Math.min(Math.sqrt(Math.pow(Math.abs(velocityX), 2) +\n                    Math.pow(Math.abs(velocityY), 2)) * 2, // so the distortion starts sooner\n                60 // shape becomes too distorted once velocity is too big\n                ) / 2\n                : 0;\n            ctx.beginPath();\n            ctx.moveTo(radius, 0);\n            ctx.arcTo(width + cumulativeVelocity, cumulativeVelocity / 2, width + cumulativeVelocity, height + cumulativeVelocity / 2, helpers_1.positive(radius - cumulativeVelocity / 2));\n            ctx.arcTo(width + cumulativeVelocity, height - cumulativeVelocity / 2, cumulativeVelocity, height - cumulativeVelocity / 2, helpers_1.positive(radius - cumulativeVelocity / 2));\n            ctx.arcTo(0, height, 0, 0, helpers_1.positive(radius));\n            ctx.arcTo(0, 0, width, 0, helpers_1.positive(radius));\n            ctx.closePath();\n            if (helpers_1.isGradient(this.color)) {\n                var gradient_1 = ctx.createLinearGradient(0, 0, width, height);\n                var length_1 = this.color.length;\n                this.color.forEach(function (color, index) {\n                    gradient_1.addColorStop((1 / (length_1 - 1)) * index, \"rgb(\" + color.r + \", \" + color.g + \", \" + color.b + \")\");\n                });\n                ctx.fillStyle = gradient_1;\n            }\n            else {\n                ctx.fillStyle = \"rgb(\" + this.color.r + \", \" + this.color.g + \", \" + this.color.b + \")\";\n            }\n            ctx.fill();\n            if (this.activeTooltip) {\n                ctx.setTransform(scale / 100, 0, 0, scale / 100, x, y);\n                this.ctx.textBaseline = 'top';\n                this.ctx.textAlign = 'left';\n                this.ctx.font = this.options.fontWeight + \" \" + this.options.fontSize *\n                    window.devicePixelRatio *\n                    (scale / 100) + \"px \" + this.options.font;\n                ctx.fillStyle = \"rgba(\\n                    \" + this.fontColor.r + \", \" + this.fontColor.g + \", \\n                    \" + this.fontColor.b + \", \" + textOpacity / 100 + \")\";\n                ctx.fillText(this.activeTooltip, this.options.tooltipPadding * window.devicePixelRatio -\n                    ((scale - 100) / 100) * width, this.options.tooltipPadding * window.devicePixelRatio -\n                    ((scale - 100) / 100) * height);\n            }\n        }\n    };\n    return Blobity;\n}());\nexports[\"default\"] = Blobity;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvQmxvYml0eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsbUJBQU8sQ0FBQyxnRUFBaUI7QUFDMUQsOEJBQThCLG1CQUFPLENBQUMsc0RBQU87QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsOERBQVc7QUFDbkMsaUNBQWlDLG1CQUFPLENBQUMsZ0VBQVk7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EseUVBQXlFLHVDQUF1QztBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGdCQUFnQjtBQUMvRixtRkFBbUYsK0JBQStCLHFHQUFxRztBQUN2TjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsMEJBQTBCLHFCQUFxQixzQkFBc0IsbUNBQW1DLHlCQUF5QixxQ0FBcUMsZ0NBQWdDLHNEQUFzRCwyRkFBMkYsNkVBQTZFO0FBQzVlO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHlEQUF5RCxlQUFlO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0cscUJBQXFCO0FBQ3JIO0FBQ0E7QUFDQSx1R0FBdUcsVUFBVTtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3VuYWwtZm9saW8vLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvQmxvYml0eS5qcz83ZThiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0aHJvdHRsZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2gvdGhyb3R0bGVcIikpO1xudmFyIGtpbmV0XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImtpbmV0XCIpKTtcbnZhciBoZWxwZXJzXzEgPSByZXF1aXJlKFwiLi9oZWxwZXJzXCIpO1xudmFyIE1hZ25ldGljXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vTWFnbmV0aWNcIikpO1xudmFyIEJsb2JpdHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmxvYml0eShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNvbG9yOiAncmdiKDE4MCwgMTgwLCAxODApJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICBsaWNlbnNlS2V5OiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogNDAsXG4gICAgICAgICAgICBmb2N1c2FibGVFbGVtZW50czogJ1tkYXRhLWJsb2JpdHldLCBhOm5vdChbZGF0YS1uby1ibG9iaXR5XSksIGJ1dHRvbjpub3QoW2RhdGEtbm8tYmxvYml0eV0pLCBbZGF0YS1ibG9iaXR5LXRvb2x0aXBdJyxcbiAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WDogMCxcbiAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WTogMCxcbiAgICAgICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgICAgICBpbnZlcnQ6IGZhbHNlLFxuICAgICAgICAgICAgZG90Q29sb3I6IG51bGwsXG4gICAgICAgICAgICBkb3RTaXplOiA4LFxuICAgICAgICAgICAgbWFnbmV0aWM6IHRydWUsXG4gICAgICAgICAgICBtb2RlOiAnbm9ybWFsJyxcbiAgICAgICAgICAgIHJhZGl1czogNCxcbiAgICAgICAgICAgIGZvbnQ6ICdzYW5zLXNlcmlmJyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDQwMCxcbiAgICAgICAgICAgIGZvbnRTaXplOiA0MCxcbiAgICAgICAgICAgIGZvbnRDb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgdG9vbHRpcFBhZGRpbmc6IDEyLFxuICAgICAgICAgICAga2luZXRpY01vcnBoaW5nOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sb3IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICAgICAgdGhpcy5mb250Q29sb3IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICAgICAgdGhpcy5zdGlja2VkVG9FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGlja2V0VG9FbGVtZW50VG9vbHRpcCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzYWJsaW5nU3RpY2tlZFRvRWxlbWVudFRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50TWFnbmV0aWMgPSBudWxsO1xuICAgICAgICB0aGlzLmtpbmV0UHJlc2V0cyA9IHtcbiAgICAgICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogMC4xLFxuICAgICAgICAgICAgICAgIGZyaWN0aW9uOiAwLjM1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvdW5jeToge1xuICAgICAgICAgICAgICAgIGFjY2VsZXJhdGlvbjogMC4xLFxuICAgICAgICAgICAgICAgIGZyaWN0aW9uOiAwLjI4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsb3c6IHtcbiAgICAgICAgICAgICAgICBhY2NlbGVyYXRpb246IDAuMDYsXG4gICAgICAgICAgICAgICAgZnJpY3Rpb246IDAuMzUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIHRoaXMuY3VycmVudE9mZnNldFggPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRPZmZzZXRZID0gMDtcbiAgICAgICAgdGhpcy5tYW51YWxseVNldEZvY3VzZWRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYW51YWxseVNldFRvb2x0aXBUZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNhYmxlVGltZVN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMucmVkdWNlTW90aW9uU2V0dGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZCA9ICdhbmltYXRlJztcbiAgICAgICAgdGhpcy51cGRhdGVPcHRpb25zID0gZnVuY3Rpb24gKG5ld09wdGlvbnMpIHtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgX3RoaXMub3B0aW9ucyksIG5ld09wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMub3B0aW9ucy5jb2xvcikpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb2xvciA9IF90aGlzLm9wdGlvbnMuY29sb3IubWFwKGZ1bmN0aW9uIChjb2xvcikgeyByZXR1cm4gaGVscGVyc18xLmNvbnZlcnRDb2xvcihjb2xvcik7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29sb3IgPSBoZWxwZXJzXzEuY29udmVydENvbG9yKF90aGlzLm9wdGlvbnMuY29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZm9udENvbG9yID0gaGVscGVyc18xLmNvbnZlcnRDb2xvcihfdGhpcy5vcHRpb25zLmZvbnRDb2xvcik7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5pbnZlcnQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb2xvciA9IGhlbHBlcnNfMS5jb252ZXJ0Q29sb3IoJ3JnYigyNTUsIDI1NSwgMjU1KScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZG90Q29sb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZ2xvYmFsU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoX3RoaXMuZ2xvYmFsU3R5bGVzKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmdsb2JhbFN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZG90ID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIlwiICsgX3RoaXMub3B0aW9ucy5kb3RTaXplICsgXCJcXFwiIGhlaWdodD1cXFwiXCIgKyBfdGhpcy5vcHRpb25zLmRvdFNpemUgKyBcIlxcXCJcXG4gICAgICAgICAgICAgICAgdmlld0JveD1cXFwiMCAwIDggOFxcXCI+PGNpcmNsZSBjeD1cXFwiNFxcXCIgY3k9XFxcIjRcXFwiIHI9XFxcIjRcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZmlsbD1cXFwiXCIgKyBfdGhpcy5vcHRpb25zLmRvdENvbG9yICsgXCJcXFwiLz48L3N2Zz5cIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzLnNldEF0dHJpYnV0ZSgnZGF0YS1ibG9iaXR5LWdsb2JhbC1zdHlsZXMnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmdsb2JhbFN0eWxlcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnKiB7Y3Vyc29yOiBpbmhlcml0fScpKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiaHRtbCB7IGN1cnNvcjogdXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyBidG9hKGRvdCkgKyBcIikgXCIgKyBfdGhpcy5vcHRpb25zLmRvdFNpemUgLyAyICsgXCIgXCIgKyBfdGhpcy5vcHRpb25zLmRvdFNpemUgLyAyICsgXCIsIGF1dG87fVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoX3RoaXMuZ2xvYmFsU3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZ2xvYmFsU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoX3RoaXMuZ2xvYmFsU3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsU3R5bGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FudmFzLnN0eWxlLmNzc1RleHQgPSBcIlxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgICAgICB6LWluZGV4OiAtMTtcXG4gICAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgICAgbGVmdDogMDtcXG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gICAgICAgICAgICBvcGFjaXR5OiAxO1xcbiAgICAgICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICAgICAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAgICAgICAgICAgb3BhY2l0eTogXCIgKyBfdGhpcy5vcHRpb25zLm9wYWNpdHkgKyBcIjsgXFxuICAgICAgICAgICAgei1pbmRleDogXCIgKyAoX3RoaXMub3B0aW9ucy5pbnZlcnQgPyAyMTQ3NDgzNjQ3IDogX3RoaXMub3B0aW9ucy56SW5kZXgpICsgXCI7IFxcbiAgICAgICAgICAgIFwiICsgKF90aGlzLm9wdGlvbnMuaW52ZXJ0ICYmICdtaXgtYmxlbmQtbW9kZTogZGlmZmVyZW5jZScpICsgXCI7XFxuICAgICAgICBcIjtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPZmZzZXRYID0gX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50c09mZnNldFg7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50T2Zmc2V0WSA9IF90aGlzLm9wdGlvbnMuZm9jdXNhYmxlRWxlbWVudHNPZmZzZXRZO1xuICAgICAgICAgICAgX3RoaXMucmVzaXplKCk7XG4gICAgICAgICAgICBpZiAoX3RoaXMua2luZXRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKF90aGlzLmtpbmV0SW5zdGFuY2UuX2luc3RhbmNlcylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAxKSwgbmFtZSA9IF9iWzBdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZSAhPT0gJ3NjYWxlJztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwgaW5zdGFuY2UgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX2ZyaWN0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIDEgLSBfdGhpcy5raW5ldFByZXNldHNbX3RoaXMub3B0aW9ucy5tb2RlXS5mcmljdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX2FjY2VsZXJhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldFByZXNldHNbX3RoaXMub3B0aW9ucy5tb2RlXS5hY2NlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5zdGlja2VkVG9FbGVtZW50ICYmICFfdGhpcy5zdGlja2V0VG9FbGVtZW50VG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3T3B0aW9ucy5yYWRpdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdyYWRpdXMnLCBfdGhpcy5vcHRpb25zLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd3aWR0aCcsIF90aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnaGVpZ2h0JywgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd4JywgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueCAtIF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3knLCBfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy55IC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF90aGlzLnJlc2l6ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMudGhyb3R0bGVkTW91c2VNb3ZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBfdGhpcy53aW5kb3dNb3VzZUVudGVyKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBfdGhpcy53aW5kb3dNb3VzZUxlYXZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIF90aGlzLmZvY3VzYWJsZUVsZW1lbnRNb3VzZUVudGVyKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgX3RoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlTGVhdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIF90aGlzLmRpc2FibGUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBfdGhpcy5kaXNhYmxlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIF90aGlzLmVuYWJsZSk7XG4gICAgICAgICAgICBfdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbk1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgX3RoaXMudXBkYXRlUHJlZmVyc1JlZHVjZWRNb3Rpb25TZXR0aW5nKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoX3RoaXMuY2FudmFzKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICAgICAgICAgIGlmIChfdGhpcy5nbG9iYWxTdHlsZXMpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKF90aGlzLmdsb2JhbFN0eWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBzb21ldGltZXMgd2UgY2FuIGhhdmUgZmFsc2UgcG9zaXRpdmUgZW5hYmxlIGNhbGxlZCByaWdodCBhZnRlclxuICAgICAgICAgICAgLy8gc28gd2Ugc2F2ZSB0aGUgdGltZSBoZXJlIHNvIHdlIGNhbiBwcmV2ZW50IGl0IGluIGVuYWJsZSBtZXRob2RcbiAgICAgICAgICAgIF90aGlzLmRpc2FibGVUaW1lU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIF90aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5jbGVhcigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkaXNhYmxlQWdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBfdGhpcy5kaXNhYmxlVGltZVN0YW1wO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVBZ2UgPiAxNikge1xuICAgICAgICAgICAgICAgIC8vIGxldCdzIHRha2Ugb25lIGNjYSBmcmFtZSBhcyBhIGxpbWl0XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVByZWZlcnNSZWR1Y2VkTW90aW9uU2V0dGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnJlZHVjZU1vdGlvblNldHRpbmcgPSBfdGhpcy5wcmVmZXJzUmVkdWNlZE1vdGlvbk1lZGlhUXVlcnkubWF0Y2hlcztcbiAgICAgICAgICAgIF90aGlzLmtpbmV0RGVmYXVsdE1ldGhvZCA9IF90aGlzLnJlZHVjZU1vdGlvblNldHRpbmcgPyAnc2V0JyA6ICdhbmltYXRlJztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgX3RoaXMubWFudWFsbHlTZXRUb29sdGlwVGV4dCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldEZvY3VzZWRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIF90aGlzLmhpZ2hsaWdodEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd1Rvb2x0aXAgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgX3RoaXMubWFudWFsbHlTZXRGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldFRvb2x0aXBUZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIF90aGlzLmRpc3BsYXlUb29sdGlwKHRleHQsIF90aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzLngsIF90aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzLnkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubWFudWFsbHlTZXRGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5tYW51YWxseVNldFRvb2x0aXBUZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5hY3RpdmVUb29sdGlwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGxheVRvb2x0aXAoX3RoaXMuYWN0aXZlVG9vbHRpcCwgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueCwgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmFjdGl2ZUZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGlnaGxpZ2h0RWxlbWVudChfdGhpcy5hY3RpdmVGb2N1c2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVzZXRNb3JwaChfdGhpcy5sYXN0S25vd25Db29yZGluYXRlcy54IC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMiwgX3RoaXMubGFzdEtub3duQ29vcmRpbmF0ZXMueSAtIF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvY3VzYWJsZUVsZW1lbnRNb3VzZUVudGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNBY3RpdmUgJiYgZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRfMSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KF90aGlzLm9wdGlvbnMuZm9jdXNhYmxlRWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50XzEpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RpY2tlZFRvRWxlbWVudCA9IGVsZW1lbnRfMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvb2x0aXAgPSBlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktdG9vbHRpcCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudF8xICYmIHRvb2x0aXAgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGlja2V0VG9FbGVtZW50VG9vbHRpcCA9IHRvb2x0aXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE9mZnNldFggPSBlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktb2Zmc2V0LXgnKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChTdHJpbmcoZWxlbWVudF8xLmdldEF0dHJpYnV0ZSgnZGF0YS1ibG9iaXR5LW9mZnNldC14JykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5vcHRpb25zLmZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE9mZnNldFkgPSBlbGVtZW50XzEuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktb2Zmc2V0LXknKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUludChTdHJpbmcoZWxlbWVudF8xLmdldEF0dHJpYnV0ZSgnZGF0YS1ibG9iaXR5LW9mZnNldC15JykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5vcHRpb25zLmZvY3VzYWJsZUVsZW1lbnRzT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RpY2tlZFRvRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hZ25ldGljID0gZWxlbWVudF8xLmdldEF0dHJpYnV0ZSgnZGF0YS1ibG9iaXR5LW1hZ25ldGljJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMucmVkdWNlTW90aW9uU2V0dGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hZ25ldGljID09PSAndHJ1ZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX3RoaXMub3B0aW9ucy5tYWduZXRpYyAmJiBtYWduZXRpYyAhPT0gJ2ZhbHNlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TWFnbmV0aWMgPSBuZXcgTWFnbmV0aWNfMS5kZWZhdWx0KGVsZW1lbnRfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE1hZ25ldGljLm9uVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5hY3RpdmVUb29sdGlwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVGb2N1c2VkRWxlbWVudCA9PT0gZWxlbWVudF8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBlbGVtZW50XzEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgeCA9IF9hLngsIHkgPSBfYS55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IGVsZW1lbnRfMS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmxvYml0eS1yYWRpdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgndGV4dE9wYWNpdHknLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1vcnBoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggKyBfdGhpcy5jdXJyZW50T2Zmc2V0WCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyBfdGhpcy5jdXJyZW50T2Zmc2V0WSAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogeCAtIF90aGlzLmN1cnJlbnRPZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHkgLSBfdGhpcy5jdXJyZW50T2Zmc2V0WSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJhZGl1cyAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHJhZGl1cylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF90aGlzLm9wdGlvbnMucmFkaXVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KF90aGlzLm9wdGlvbnMuZm9jdXNhYmxlRWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0U3RpY2tlZFRvRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldFN0aWNrZWRUb0VsZW1lbnRNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPZmZzZXRYID0gX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50c09mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPZmZzZXRZID0gX3RoaXMub3B0aW9ucy5mb2N1c2FibGVFbGVtZW50c09mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0TWFnbmV0aWMoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRNb3JwaChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdzY2FsZScsIDk3KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZVVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYm91bmNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2luZG93TW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnb3BhY2l0eScsIDEpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLndpbmRvd01vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ29wYWNpdHknLCAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oaWdobGlnaHRFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgeCA9IF9hLngsIHkgPSBfYS55O1xuICAgICAgICAgICAgdmFyIHJhZGl1cyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJsb2JpdHktcmFkaXVzJyk7XG4gICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3RleHRPcGFjaXR5JywgMCk7XG4gICAgICAgICAgICBfdGhpcy5tb3JwaCh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICsgX3RoaXMuY3VycmVudE9mZnNldFggKiAyLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0ICsgX3RoaXMuY3VycmVudE9mZnNldFkgKiAyLFxuICAgICAgICAgICAgICAgIHg6IHggLSBfdGhpcy5jdXJyZW50T2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiB5IC0gX3RoaXMuY3VycmVudE9mZnNldFksXG4gICAgICAgICAgICB9LCByYWRpdXMgIT0gdW5kZWZpbmVkID8gcGFyc2VJbnQocmFkaXVzKSA6IF90aGlzLm9wdGlvbnMucmFkaXVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kaXNwbGF5VG9vbHRpcCA9IGZ1bmN0aW9uICh0ZXh0LCB4LCB5KSB7XG4gICAgICAgICAgICBfdGhpcy5jdHguZm9udCA9IF90aGlzLm9wdGlvbnMuZm9udFdlaWdodCArIFwiIFwiICsgX3RoaXMub3B0aW9ucy5mb250U2l6ZSArIFwicHggXCIgKyBfdGhpcy5vcHRpb25zLmZvbnQ7XG4gICAgICAgICAgICBfdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICBfdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuY3R4Lm1lYXN1cmVUZXh0KHRleHQpLCBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCA9IF9hLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50LCB3aWR0aCA9IF9hLndpZHRoO1xuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSBfdGhpcy5vcHRpb25zLnRvb2x0aXBQYWRkaW5nICogMjtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgndGV4dE9wYWNpdHknLCAxMDApO1xuICAgICAgICAgICAgX3RoaXMubW9ycGgoe1xuICAgICAgICAgICAgICAgIHg6IHggKyA2LFxuICAgICAgICAgICAgICAgIHk6IHkgKyA2LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCArIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCArIHBhZGRpbmcsXG4gICAgICAgICAgICB9LCA0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxhc3RLbm93bkNvb3JkaW5hdGVzID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB5OiBldmVudC5jbGllbnRZLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFjdGl2ZVRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlzcGxheVRvb2x0aXAoX3RoaXMuYWN0aXZlVG9vbHRpcCwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLmFjdGl2ZUZvY3VzZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZ2hsaWdodEVsZW1lbnQoX3RoaXMuYWN0aXZlRm9jdXNlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd0ZXh0T3BhY2l0eScsIDApO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3gnLCBldmVudC5jbGllbnRYIC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneScsIGV2ZW50LmNsaWVudFkgLSBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd3aWR0aCcsIF90aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnaGVpZ2h0JywgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdyYWRpdXMnLCBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZS5zZXQoJ3gnLCBldmVudC5jbGllbnRYIC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZS5zZXQoJ3knLCBldmVudC5jbGllbnRZIC0gX3RoaXMub3B0aW9ucy5zaXplIC8gMik7XG4gICAgICAgICAgICAgICAgX3RoaXMua2luZXRJbnN0YW5jZVtfdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdvcGFjaXR5JywgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXRNb3JwaCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICBfdGhpcy5kaXNhYmxpbmdTdGlja2VkVG9FbGVtZW50VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnd2lkdGgnLCBfdGhpcy5vcHRpb25zLnNpemUpO1xuICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgnaGVpZ2h0JywgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlW190aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3JhZGl1cycsIF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneCcsIHgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2VbX3RoaXMua2luZXREZWZhdWx0TWV0aG9kXSgneScsIHkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jdHgucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIF90aGlzLmN0eC5yb3RhdGUoMCk7XG4gICAgICAgICAgICBfdGhpcy5jdHguY2xlYXJSZWN0KC0yMCwgLTIwLCB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICsgMjAsIHdpbmRvdy5pbm5lckhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICsgMjApO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmN0eC5jYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIF90aGlzLmN0eC5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgX3RoaXMuY3R4LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICBfdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldFN0aWNrZWRUb0VsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zdGlja2VkVG9FbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLnN0aWNrZXRUb0VsZW1lbnRUb29sdGlwID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldFN0aWNrZWRUb0VsZW1lbnRNdXRhdGlvbk9ic2VydmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc3RpY2tlZFRvRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlc2V0TWFnbmV0aWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudE1hZ25ldGljKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE1hZ25ldGljLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TWFnbmV0aWMub25UaWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TWFnbmV0aWMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoX19hc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubGljZW5zZUtleSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdWYWxpZCBsaWNlbnNlIG51bWJlciBmb3IgQmxvYml0eSBpcyByZXF1aXJlZC4gWW91IGNhbiBnZXQgb25lIGF0IGh0dHBzOi8vYmxvYml0eS5nbXJjaGsuY29tLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZSA9IG5ldyBraW5ldF8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbmFtZXM6IFtcbiAgICAgICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAgICAgJ3knLFxuICAgICAgICAgICAgICAgICdvcGFjaXR5JyxcbiAgICAgICAgICAgICAgICAndGV4dE9wYWNpdHknLFxuICAgICAgICAgICAgICAgICd3aWR0aCcsXG4gICAgICAgICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgICAgICAgJ3JhZGl1cycsXG4gICAgICAgICAgICAgICAgJ3NjYWxlJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBhY2NlbGVyYXRpb246IHRoaXMua2luZXRQcmVzZXRzW3RoaXMub3B0aW9ucy5tb2RlXS5hY2NlbGVyYXRpb24sXG4gICAgICAgICAgICBmcmljdGlvbjogdGhpcy5raW5ldFByZXNldHNbdGhpcy5vcHRpb25zLm1vZGVdLmZyaWN0aW9uLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLl9pbnN0YW5jZXMuc2NhbGUuX2FjY2VsZXJhdGlvbiA9IDAuMDY7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5faW5zdGFuY2VzLnNjYWxlLl9mcmljdGlvbiA9IDEgLSAwLjE7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5zZXQoJ3gnLCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIpO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCd5Jywgd2luZG93LmlubmVySGVpZ2h0IC8gMik7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5zZXQoJ3dpZHRoJywgdGhpcy5vcHRpb25zLnNpemUpO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uuc2V0KCdoZWlnaHQnLCB0aGlzLm9wdGlvbnMuc2l6ZSk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5zZXQoJ29wYWNpdHknLCAwKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgndGV4dE9wYWNpdHknLCAwKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgncmFkaXVzJywgdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgnc2NhbGUnLCAxMDApO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uub24oJ3RpY2snLCBmdW5jdGlvbiAoaW5zdGFuY2VzKSB7XG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIoaW5zdGFuY2VzLnguY3VycmVudCwgaW5zdGFuY2VzLnkuY3VycmVudCwgaW5zdGFuY2VzLndpZHRoLmN1cnJlbnQsIGluc3RhbmNlcy5oZWlnaHQuY3VycmVudCwgaW5zdGFuY2VzLnJhZGl1cy5jdXJyZW50LCBpbnN0YW5jZXMueC52ZWxvY2l0eSwgaW5zdGFuY2VzLnkudmVsb2NpdHksIGluc3RhbmNlcy5vcGFjaXR5LmN1cnJlbnQsIGluc3RhbmNlcy5zY2FsZS5jdXJyZW50LCBpbnN0YW5jZXMudGV4dE9wYWNpdHkuY3VycmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRocm90dGxlZE1vdXNlTW92ZSA9IHRocm90dGxlXzEuZGVmYXVsdCh0aGlzLm1vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy50aHJvdHRsZWRNb3VzZU1vdmUsIHtcbiAgICAgICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy53aW5kb3dNb3VzZUVudGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMud2luZG93TW91c2VMZWF2ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlRW50ZXIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuZm9jdXNhYmxlRWxlbWVudE1vdXNlTGVhdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm1vdXNlVXApO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5kaXNhYmxlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmRpc2FibGUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmVuYWJsZSwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJlZmVyc1JlZHVjZWRNb3Rpb25NZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJyk7XG4gICAgICAgIHRoaXMucHJlZmVyc1JlZHVjZWRNb3Rpb25NZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMudXBkYXRlUHJlZmVyc1JlZHVjZWRNb3Rpb25TZXR0aW5nKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcmVmZXJzUmVkdWNlZE1vdGlvblNldHRpbmcoKTtcbiAgICAgICAgdGhpcy5zdGlja2VkVG9FbGVtZW50TXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtdXRhdGlvbnNfMSA9IF9fdmFsdWVzKG11dGF0aW9ucyksIG11dGF0aW9uc18xXzEgPSBtdXRhdGlvbnNfMS5uZXh0KCk7ICFtdXRhdGlvbnNfMV8xLmRvbmU7IG11dGF0aW9uc18xXzEgPSBtdXRhdGlvbnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG11dGF0aW9uID0gbXV0YXRpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gKGVfMiA9IHZvaWQgMCwgX192YWx1ZXMobXV0YXRpb24ucmVtb3ZlZE5vZGVzKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwgPT09IF90aGlzLnN0aWNrZWRUb0VsZW1lbnQgfHwgZWwuY29udGFpbnMoX3RoaXMuc3RpY2tlZFRvRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRTdGlja2VkVG9FbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0U3RpY2tlZFRvRWxlbWVudE11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzZXRNYWduZXRpYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbnNfMV8xICYmICFtdXRhdGlvbnNfMV8xLmRvbmUgJiYgKF9hID0gbXV0YXRpb25zXzEucmV0dXJuKSkgX2EuY2FsbChtdXRhdGlvbnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEJsb2JpdHkucHJvdG90eXBlLmJvdW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVkdWNlTW90aW9uU2V0dGluZykge1xuICAgICAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgnc2NhbGUnLCAxMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLnNldCgnc2NhbGUnLCA5Nyk7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2UuX2luc3RhbmNlcy5zY2FsZS52ZWxvY2l0eSA9IDM7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2UuYW5pbWF0ZSgnc2NhbGUnLCAxMDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmxvYml0eS5wcm90b3R5cGUsIFwiYWN0aXZlVG9vbHRpcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFudWFsbHlTZXRUb29sdGlwVGV4dCB8fCB0aGlzLnN0aWNrZXRUb0VsZW1lbnRUb29sdGlwO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJsb2JpdHkucHJvdG90eXBlLCBcImFjdGl2ZUZvY3VzZWRFbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxseVNldEZvY3VzZWRFbGVtZW50IHx8IHRoaXMuc3RpY2tlZFRvRWxlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJsb2JpdHkucHJvdG90eXBlLm1vcnBoID0gZnVuY3Rpb24gKF9hLCByYWRpdXMpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgeCA9IF9hLngsIHkgPSBfYS55O1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxpbmdTdGlja2VkVG9FbGVtZW50VGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGlzYWJsaW5nU3RpY2tlZFRvRWxlbWVudFRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZVt0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3JhZGl1cycsIHJhZGl1cyk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZVt0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3dpZHRoJywgd2lkdGgpO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2VbdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2VbdGhpcy5raW5ldERlZmF1bHRNZXRob2RdKCd4JywgeCk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZVt0aGlzLmtpbmV0RGVmYXVsdE1ldGhvZF0oJ3knLCB5KTtcbiAgICB9O1xuICAgIEJsb2JpdHkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMsIHZlbG9jaXR5WCwgdmVsb2NpdHlZLCBvcGFjaXR5LCBzY2FsZSwgdGV4dE9wYWNpdHkpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB2YXIgbWF4RGVsdGEgPSB0aGlzLmFjdGl2ZUZvY3VzZWRFbGVtZW50XG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogKHRoaXMub3B0aW9ucy5zaXplIC8gOCkgKiA3O1xuICAgICAgICB4ID0geCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB5ID0geSAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB3aWR0aCA9XG4gICAgICAgICAgICAodGhpcy5hY3RpdmVUb29sdGlwID8gd2lkdGggOiBNYXRoLm1heCh3aWR0aCwgbWF4RGVsdGEpKSAqXG4gICAgICAgICAgICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIGhlaWdodCA9XG4gICAgICAgICAgICAodGhpcy5hY3RpdmVUb29sdGlwID8gaGVpZ2h0IDogTWF0aC5tYXgoaGVpZ2h0LCBtYXhEZWx0YSkpICpcbiAgICAgICAgICAgICAgICB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgcmFkaXVzID0gcmFkaXVzICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHZlbG9jaXR5WCA9IHZlbG9jaXR5WCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB2ZWxvY2l0eVkgPSB2ZWxvY2l0eVkgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XG4gICAgICAgICAgICBjdHguc2V0VHJhbnNmb3JtKHNjYWxlIC8gMTAwLCAwLCAwLCBzY2FsZSAvIDEwMCwgeCwgeSk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnNjYWxlKHNjYWxlIC8gMTAwLCBzY2FsZSAvIDEwMCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKC13aWR0aCwgLWhlaWdodCk7XG4gICAgICAgICAgICB2YXIgYWN0aXZhdGVCbHVyID0gdGhpcy5vcHRpb25zLmtpbmV0aWNNb3JwaGluZyAmJlxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHdpZHRoIC0gdGhpcy5vcHRpb25zLnNpemUgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgPFxuICAgICAgICAgICAgICAgICAgICAyICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoaGVpZ2h0IC0gdGhpcy5vcHRpb25zLnNpemUgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykgPFxuICAgICAgICAgICAgICAgICAgICAyICYmXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMocmFkaXVzIC0gKHRoaXMub3B0aW9ucy5zaXplICogd2luZG93LmRldmljZVBpeGVsUmF0aW8pIC8gMikgPCAyO1xuICAgICAgICAgICAgaWYgKGFjdGl2YXRlQmx1cikge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9IChNYXRoLmF0YW4yKHZlbG9jaXR5WSwgdmVsb2NpdHlYKSAqIDE4MCkgLyBNYXRoLlBJICsgMTgwO1xuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocmFkaXVzLCByYWRpdXMpO1xuICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoKGFuZ2xlICogTWF0aC5QSSkgLyAxODApO1xuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoLXJhZGl1cywgLXJhZGl1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3VtdWxhdGl2ZVZlbG9jaXR5ID0gYWN0aXZhdGVCbHVyXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1pbihNYXRoLnNxcnQoTWF0aC5wb3coTWF0aC5hYnModmVsb2NpdHlYKSwgMikgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhNYXRoLmFicyh2ZWxvY2l0eVkpLCAyKSkgKiAyLCAvLyBzbyB0aGUgZGlzdG9ydGlvbiBzdGFydHMgc29vbmVyXG4gICAgICAgICAgICAgICAgNjAgLy8gc2hhcGUgYmVjb21lcyB0b28gZGlzdG9ydGVkIG9uY2UgdmVsb2NpdHkgaXMgdG9vIGJpZ1xuICAgICAgICAgICAgICAgICkgLyAyXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhyYWRpdXMsIDApO1xuICAgICAgICAgICAgY3R4LmFyY1RvKHdpZHRoICsgY3VtdWxhdGl2ZVZlbG9jaXR5LCBjdW11bGF0aXZlVmVsb2NpdHkgLyAyLCB3aWR0aCArIGN1bXVsYXRpdmVWZWxvY2l0eSwgaGVpZ2h0ICsgY3VtdWxhdGl2ZVZlbG9jaXR5IC8gMiwgaGVscGVyc18xLnBvc2l0aXZlKHJhZGl1cyAtIGN1bXVsYXRpdmVWZWxvY2l0eSAvIDIpKTtcbiAgICAgICAgICAgIGN0eC5hcmNUbyh3aWR0aCArIGN1bXVsYXRpdmVWZWxvY2l0eSwgaGVpZ2h0IC0gY3VtdWxhdGl2ZVZlbG9jaXR5IC8gMiwgY3VtdWxhdGl2ZVZlbG9jaXR5LCBoZWlnaHQgLSBjdW11bGF0aXZlVmVsb2NpdHkgLyAyLCBoZWxwZXJzXzEucG9zaXRpdmUocmFkaXVzIC0gY3VtdWxhdGl2ZVZlbG9jaXR5IC8gMikpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKDAsIGhlaWdodCwgMCwgMCwgaGVscGVyc18xLnBvc2l0aXZlKHJhZGl1cykpO1xuICAgICAgICAgICAgY3R4LmFyY1RvKDAsIDAsIHdpZHRoLCAwLCBoZWxwZXJzXzEucG9zaXRpdmUocmFkaXVzKSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBpZiAoaGVscGVyc18xLmlzR3JhZGllbnQodGhpcy5jb2xvcikpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JhZGllbnRfMSA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoXzEgPSB0aGlzLmNvbG9yLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLmZvckVhY2goZnVuY3Rpb24gKGNvbG9yLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudF8xLmFkZENvbG9yU3RvcCgoMSAvIChsZW5ndGhfMSAtIDEpKSAqIGluZGV4LCBcInJnYihcIiArIGNvbG9yLnIgKyBcIiwgXCIgKyBjb2xvci5nICsgXCIsIFwiICsgY29sb3IuYiArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYihcIiArIHRoaXMuY29sb3IuciArIFwiLCBcIiArIHRoaXMuY29sb3IuZyArIFwiLCBcIiArIHRoaXMuY29sb3IuYiArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBjdHguc2V0VHJhbnNmb3JtKHNjYWxlIC8gMTAwLCAwLCAwLCBzY2FsZSAvIDEwMCwgeCwgeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLm9wdGlvbnMuZm9udFdlaWdodCArIFwiIFwiICsgdGhpcy5vcHRpb25zLmZvbnRTaXplICpcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW8gKlxuICAgICAgICAgICAgICAgICAgICAoc2NhbGUgLyAxMDApICsgXCJweCBcIiArIHRoaXMub3B0aW9ucy5mb250O1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoXFxuICAgICAgICAgICAgICAgICAgICBcIiArIHRoaXMuZm9udENvbG9yLnIgKyBcIiwgXCIgKyB0aGlzLmZvbnRDb2xvci5nICsgXCIsIFxcbiAgICAgICAgICAgICAgICAgICAgXCIgKyB0aGlzLmZvbnRDb2xvci5iICsgXCIsIFwiICsgdGV4dE9wYWNpdHkgLyAxMDAgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5hY3RpdmVUb29sdGlwLCB0aGlzLm9wdGlvbnMudG9vbHRpcFBhZGRpbmcgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAtXG4gICAgICAgICAgICAgICAgICAgICgoc2NhbGUgLSAxMDApIC8gMTAwKSAqIHdpZHRoLCB0aGlzLm9wdGlvbnMudG9vbHRpcFBhZGRpbmcgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAtXG4gICAgICAgICAgICAgICAgICAgICgoc2NhbGUgLSAxMDApIC8gMTAwKSAqIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCbG9iaXR5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJsb2JpdHk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/Blobity.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/Magnetic.js":
/*!**********************************************!*\
  !*** ./node_modules/blobity/lib/Magnetic.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar kinet_1 = __importDefault(__webpack_require__(/*! kinet */ \"(ssr)/./node_modules/kinet/lib/index.js\"));\nvar throttle_1 = __importDefault(__webpack_require__(/*! lodash/throttle */ \"(ssr)/./node_modules/lodash/throttle.js\"));\nvar Magnetic = /** @class */ (function () {\n    function Magnetic(element) {\n        var _this = this;\n        this.destroying = false;\n        this.onTick = null;\n        this.destroy = function () {\n            window.removeEventListener('mousemove', _this.throttledMouseMove);\n            _this.destroying = true;\n            _this.kinetInstance.animate('x', 0);\n            _this.kinetInstance.animate('y', 0);\n        };\n        this.mouseMove = function (event) {\n            var distance = _this.getDistance(event.clientX + window.scrollX, event.clientY + window.scrollY);\n            _this.render(distance, -1 * (_this.center.x - event.clientX - window.scrollX), -1 * (_this.center.y - event.clientY - window.scrollY));\n        };\n        this.kinetInstance = new kinet_1.default({\n            names: ['x', 'y'],\n            acceleration: 0.1,\n            friction: 0.4,\n        });\n        this.element = element;\n        this.rect = this.element.getBoundingClientRect();\n        this.center = {\n            x: this.rect.x + window.scrollX + this.element.offsetWidth / 2,\n            y: this.rect.y + window.scrollY + this.element.offsetHeight / 2,\n        };\n        this.maxDistanceX = this.element.offsetWidth / 2;\n        this.maxDistanceY = this.element.offsetWidth / 2;\n        this.throttledMouseMove = throttle_1.default(this.mouseMove);\n        window.addEventListener('mousemove', this.throttledMouseMove, {\n            passive: true,\n        });\n        this.kinetInstance.on('tick', function (instances) {\n            _this.element.style.transform = \"translate3d(\" + instances.x.current + \"px, \" + instances.y.current + \"px, 0) rotateY(\" + instances.x.current / 2 + \"deg) rotateX(\" + instances.y.current / 2 + \"deg)\";\n            _this.onTick && _this.onTick();\n        });\n        this.kinetInstance.on('end', function () {\n            if (_this.destroying) {\n                _this.element.style.transform = '';\n            }\n        });\n    }\n    Magnetic.prototype.getDistance = function (x, y) {\n        return Math.round(Math.sqrt(Math.pow(this.center.x - x, 2) + Math.pow(this.center.y - y, 2)));\n    };\n    Magnetic.prototype.render = function (distance, x, y) {\n        if (Math.abs(x) < this.maxDistanceX &&\n            Math.abs(y) < this.maxDistanceY) {\n            var percentX = x / this.maxDistanceX;\n            var percentY = y / this.maxDistanceY;\n            this.kinetInstance.animate('x', Math.round(20 * percentX));\n            this.kinetInstance.animate('y', Math.round(20 * percentY));\n        }\n        else {\n            this.kinetInstance.animate('x', 0);\n            this.kinetInstance.animate('y', 0);\n        }\n    };\n    return Magnetic;\n}());\nexports[\"default\"] = Magnetic;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvTWFnbmV0aWMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQyxzREFBTztBQUM3QyxpQ0FBaUMsbUJBQU8sQ0FBQyxnRUFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3VuYWwtZm9saW8vLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvTWFnbmV0aWMuanM/MjM5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBraW5ldF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJraW5ldFwiKSk7XG52YXIgdGhyb3R0bGVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibG9kYXNoL3Rocm90dGxlXCIpKTtcbnZhciBNYWduZXRpYyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYWduZXRpYyhlbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGVzdHJveWluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uVGljayA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy50aHJvdHRsZWRNb3VzZU1vdmUpO1xuICAgICAgICAgICAgX3RoaXMuZGVzdHJveWluZyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5raW5ldEluc3RhbmNlLmFuaW1hdGUoJ3gnLCAwKTtcbiAgICAgICAgICAgIF90aGlzLmtpbmV0SW5zdGFuY2UuYW5pbWF0ZSgneScsIDApO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gX3RoaXMuZ2V0RGlzdGFuY2UoZXZlbnQuY2xpZW50WCArIHdpbmRvdy5zY3JvbGxYLCBldmVudC5jbGllbnRZICsgd2luZG93LnNjcm9sbFkpO1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyKGRpc3RhbmNlLCAtMSAqIChfdGhpcy5jZW50ZXIueCAtIGV2ZW50LmNsaWVudFggLSB3aW5kb3cuc2Nyb2xsWCksIC0xICogKF90aGlzLmNlbnRlci55IC0gZXZlbnQuY2xpZW50WSAtIHdpbmRvdy5zY3JvbGxZKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZSA9IG5ldyBraW5ldF8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbmFtZXM6IFsneCcsICd5J10sXG4gICAgICAgICAgICBhY2NlbGVyYXRpb246IDAuMSxcbiAgICAgICAgICAgIGZyaWN0aW9uOiAwLjQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuY2VudGVyID0ge1xuICAgICAgICAgICAgeDogdGhpcy5yZWN0LnggKyB3aW5kb3cuc2Nyb2xsWCArIHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCAvIDIsXG4gICAgICAgICAgICB5OiB0aGlzLnJlY3QueSArIHdpbmRvdy5zY3JvbGxZICsgdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCAvIDIsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWF4RGlzdGFuY2VYID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoIC8gMjtcbiAgICAgICAgdGhpcy5tYXhEaXN0YW5jZVkgPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICB0aGlzLnRocm90dGxlZE1vdXNlTW92ZSA9IHRocm90dGxlXzEuZGVmYXVsdCh0aGlzLm1vdXNlTW92ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLnRocm90dGxlZE1vdXNlTW92ZSwge1xuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5vbigndGljaycsIGZ1bmN0aW9uIChpbnN0YW5jZXMpIHtcbiAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZChcIiArIGluc3RhbmNlcy54LmN1cnJlbnQgKyBcInB4LCBcIiArIGluc3RhbmNlcy55LmN1cnJlbnQgKyBcInB4LCAwKSByb3RhdGVZKFwiICsgaW5zdGFuY2VzLnguY3VycmVudCAvIDIgKyBcImRlZykgcm90YXRlWChcIiArIGluc3RhbmNlcy55LmN1cnJlbnQgLyAyICsgXCJkZWcpXCI7XG4gICAgICAgICAgICBfdGhpcy5vblRpY2sgJiYgX3RoaXMub25UaWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2Uub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kZXN0cm95aW5nKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE1hZ25ldGljLnByb3RvdHlwZS5nZXREaXN0YW5jZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyh0aGlzLmNlbnRlci54IC0geCwgMikgKyBNYXRoLnBvdyh0aGlzLmNlbnRlci55IC0geSwgMikpKTtcbiAgICB9O1xuICAgIE1hZ25ldGljLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZGlzdGFuY2UsIHgsIHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDwgdGhpcy5tYXhEaXN0YW5jZVggJiZcbiAgICAgICAgICAgIE1hdGguYWJzKHkpIDwgdGhpcy5tYXhEaXN0YW5jZVkpIHtcbiAgICAgICAgICAgIHZhciBwZXJjZW50WCA9IHggLyB0aGlzLm1heERpc3RhbmNlWDtcbiAgICAgICAgICAgIHZhciBwZXJjZW50WSA9IHkgLyB0aGlzLm1heERpc3RhbmNlWTtcbiAgICAgICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5hbmltYXRlKCd4JywgTWF0aC5yb3VuZCgyMCAqIHBlcmNlbnRYKSk7XG4gICAgICAgICAgICB0aGlzLmtpbmV0SW5zdGFuY2UuYW5pbWF0ZSgneScsIE1hdGgucm91bmQoMjAgKiBwZXJjZW50WSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5raW5ldEluc3RhbmNlLmFuaW1hdGUoJ3gnLCAwKTtcbiAgICAgICAgICAgIHRoaXMua2luZXRJbnN0YW5jZS5hbmltYXRlKCd5JywgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNYWduZXRpYztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNYWduZXRpYztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/Magnetic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/helpers.js":
/*!*********************************************!*\
  !*** ./node_modules/blobity/lib/helpers.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.negative = exports.positive = exports.isGradient = exports.convertColor = exports.extractRgbFromRgb = exports.extractRgbFromHex = void 0;\nvar extractRgbFromHex = function (hex) {\n    var r = parseInt(hex.slice(1, 3), 16);\n    var g = parseInt(hex.slice(3, 5), 16);\n    var b = parseInt(hex.slice(5, 7), 16);\n    return { r: r, g: g, b: b };\n};\nexports.extractRgbFromHex = extractRgbFromHex;\nvar extractRgbFromRgb = function (rgb) {\n    var match = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/.exec(rgb);\n    if (match === null) {\n        throw new Error(\"Couldn't convert color string \" + rgb);\n    }\n    return {\n        r: parseInt(match[1]),\n        g: parseInt(match[2]),\n        b: parseInt(match[3]),\n    };\n};\nexports.extractRgbFromRgb = extractRgbFromRgb;\nvar convertColor = function (color) {\n    if (color.includes('rgb')) {\n        return exports.extractRgbFromRgb(color);\n    }\n    else if (color.startsWith('#')) {\n        return exports.extractRgbFromHex(color);\n    }\n    throw new Error(\"Couldn't convert color string \" + color);\n};\nexports.convertColor = convertColor;\nvar isGradient = function (color) {\n    return Array.isArray(color);\n};\nexports.isGradient = isGradient;\nvar positive = function (n) { return Math.max(n, 0); };\nexports.positive = positive;\nvar negative = function (n) { return Math.min(n, 0); };\nexports.negative = negative;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0IsR0FBRyxnQkFBZ0IsR0FBRyxrQkFBa0IsR0FBRyxvQkFBb0IsR0FBRyx5QkFBeUIsR0FBRyx5QkFBeUI7QUFDdkk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSwwQkFBMEIsSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLDhCQUE4QjtBQUM5QixnQkFBZ0I7QUFDaEIsOEJBQThCO0FBQzlCLGdCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL2t1bmFsLWZvbGlvLy4vbm9kZV9tb2R1bGVzL2Jsb2JpdHkvbGliL2hlbHBlcnMuanM/MDUyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubmVnYXRpdmUgPSBleHBvcnRzLnBvc2l0aXZlID0gZXhwb3J0cy5pc0dyYWRpZW50ID0gZXhwb3J0cy5jb252ZXJ0Q29sb3IgPSBleHBvcnRzLmV4dHJhY3RSZ2JGcm9tUmdiID0gZXhwb3J0cy5leHRyYWN0UmdiRnJvbUhleCA9IHZvaWQgMDtcbnZhciBleHRyYWN0UmdiRnJvbUhleCA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgICB2YXIgciA9IHBhcnNlSW50KGhleC5zbGljZSgxLCAzKSwgMTYpO1xuICAgIHZhciBnID0gcGFyc2VJbnQoaGV4LnNsaWNlKDMsIDUpLCAxNik7XG4gICAgdmFyIGIgPSBwYXJzZUludChoZXguc2xpY2UoNSwgNyksIDE2KTtcbiAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiIH07XG59O1xuZXhwb3J0cy5leHRyYWN0UmdiRnJvbUhleCA9IGV4dHJhY3RSZ2JGcm9tSGV4O1xudmFyIGV4dHJhY3RSZ2JGcm9tUmdiID0gZnVuY3Rpb24gKHJnYikge1xuICAgIHZhciBtYXRjaCA9IC9yZ2JcXCgoXFxkezEsM30pLCAoXFxkezEsM30pLCAoXFxkezEsM30pXFwpLy5leGVjKHJnYik7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGNvbnZlcnQgY29sb3Igc3RyaW5nIFwiICsgcmdiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogcGFyc2VJbnQobWF0Y2hbMV0pLFxuICAgICAgICBnOiBwYXJzZUludChtYXRjaFsyXSksXG4gICAgICAgIGI6IHBhcnNlSW50KG1hdGNoWzNdKSxcbiAgICB9O1xufTtcbmV4cG9ydHMuZXh0cmFjdFJnYkZyb21SZ2IgPSBleHRyYWN0UmdiRnJvbVJnYjtcbnZhciBjb252ZXJ0Q29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICBpZiAoY29sb3IuaW5jbHVkZXMoJ3JnYicpKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmV4dHJhY3RSZ2JGcm9tUmdiKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sb3Iuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgIHJldHVybiBleHBvcnRzLmV4dHJhY3RSZ2JGcm9tSGV4KGNvbG9yKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgY29udmVydCBjb2xvciBzdHJpbmcgXCIgKyBjb2xvcik7XG59O1xuZXhwb3J0cy5jb252ZXJ0Q29sb3IgPSBjb252ZXJ0Q29sb3I7XG52YXIgaXNHcmFkaWVudCA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNvbG9yKTtcbn07XG5leHBvcnRzLmlzR3JhZGllbnQgPSBpc0dyYWRpZW50O1xudmFyIHBvc2l0aXZlID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE1hdGgubWF4KG4sIDApOyB9O1xuZXhwb3J0cy5wb3NpdGl2ZSA9IHBvc2l0aXZlO1xudmFyIG5lZ2F0aXZlID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE1hdGgubWluKG4sIDApOyB9O1xuZXhwb3J0cy5uZWdhdGl2ZSA9IG5lZ2F0aXZlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/blobity/lib/react/useBlobity.js":
/*!******************************************************!*\
  !*** ./node_modules/blobity/lib/react/useBlobity.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar react_1 = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar Blobity_1 = __importDefault(__webpack_require__(/*! ../Blobity */ \"(ssr)/./node_modules/blobity/lib/Blobity.js\"));\nexports[\"default\"] = (function (options) {\n    var instance = react_1.useRef(null);\n    react_1.useEffect(function () {\n        if (!instance.current) {\n            instance.current = new Blobity_1.default(options);\n        }\n    }, []);\n    return instance;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvcmVhY3QvdXNlQmxvYml0eS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsbUJBQU8sQ0FBQyx3R0FBTztBQUM3QixnQ0FBZ0MsbUJBQU8sQ0FBQywrREFBWTtBQUNwRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3VuYWwtZm9saW8vLi9ub2RlX21vZHVsZXMvYmxvYml0eS9saWIvcmVhY3QvdXNlQmxvYml0eS5qcz9kZmRmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgQmxvYml0eV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9CbG9iaXR5XCIpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IChmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBpbnN0YW5jZSA9IHJlYWN0XzEudXNlUmVmKG51bGwpO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpbnN0YW5jZS5jdXJyZW50KSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jdXJyZW50ID0gbmV3IEJsb2JpdHlfMS5kZWZhdWx0KG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/blobity/lib/react/useBlobity.js\n");

/***/ })

};
;